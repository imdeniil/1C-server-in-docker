# 1C-server-in-docker
Это набор шеллов, который соберет ваш собственный образ сервера 1C и запустит контейнер. 
Контейнеры получаются достаточно обьемные учитывайте это (около 2gb) 

./build.sh - Запускаем для начала сборки. 

Внутри шелла все прописано, следуйте за мастером установки, если не хотите заморачиваться. 
Что бы сделать несколько экземпляров, запустите скрипт несколько раз, с разными портами на сервер. 
Для работы с базой my-sql предусмотрена отдельная версия. С виндовой у меня подружить не получилось, на линуксовой не пробовал. 

# Внимание
В зависимости от версии платформы, почему-то 1с меняет структуру каталогов, поэтому предварительно установить сервер на свою ос и проверьте расположение

```
Вариант 1 - cd /opt/1cv8/x86_64/
Вариант 2 - cd /opt/1cv8/x86_64/X.X.XX.XXXX <-Номер версии платформы 
```
Возможно есть еще варианты тестируйте. 

После этого измените origin/docker-entrypoint.sh 

```
if [ "$1" = 'ragent' ]; then
	cd [Сюда вставь путь до папки с 1С-сервер] && ./ragent /port $PORT_M /regport $PORT_A /range $PORT_R_1:$PORT_R_2
fi

exec "$@"
```

# Актуальные вопросы, буду рад помощи
1. Сделать в docker-entrypoint.sh перебор папок и запуск в правильной папке.
2. Как не плодить image и запустить несколько контейнеров из одного image?

Контакты в профиле или issues
